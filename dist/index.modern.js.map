{"version":3,"file":"index.modern.js","sources":["../src/common/endpoints.ts","../src/types/index.ts","../src/modules/transactions/index.ts","../src/modules/index.ts"],"sourcesContent":["export const API_URL = \"https://api.momofy.com\";\nexport default {\n  transactions: {\n    makeTransaction: API_URL + \"/transactions/request\",\n    verifyTransaction: API_URL + \"/transactions/verify\",\n    listTransactions: API_URL + \"/transactions\",\n  },\n};\n","type ProviderTypes = \"MTN\" | \"VODAFONE\" | \"ATM\" | \"MPESA\";\n\ntype ChannelTypes = \"mobile_money\";\n\ntype Customer = {\n  name: String;\n  email: String;\n  phone_number: String;\n};\n\nexport type RequestPaymentType = {\n  provider: ProviderTypes;\n  transaction_note: String;\n  channel: ChannelTypes;\n  currency: String;\n  amount: string | number;\n  reference_code: String;\n  customer: Customer;\n};\n\nexport enum EnvironmentType {\n  PRODUCTION = \"production\",\n  TEST = \"test\",\n}\n\n\nexport interface SuccessRequest {\n  success: boolean;\n  message: string;\n  result: any;\n  meta: any;\n  status_code: number;\n}\n\nexport interface BadRequest {\n    status_code: number;\n    message: string;\n  }","import { Axios } from \"axios\";\nimport {\n  BadRequest,\n  RequestPaymentType,\n  SuccessRequest,\n} from \"../../types\";\nimport endpoints from \"../../common/endpoints\";\n\nexport class Transaction {\n  private http: Axios;\n  constructor(http: Axios) {\n    this.http = http;\n  }\n\n  /**\n   * requestPayment\n   * @param body\n   */\n  public async requestPayment(\n    body: RequestPaymentType\n  ): Promise<SuccessRequest> {\n    return this.http.post(\n      endpoints.transactions.makeTransaction,\n      JSON.stringify(body)\n    );\n  }\n\n  /**\n   * Transaction Reference ID\n   * @param transactionId\n   */\n  public async verify(transactionId: string): Promise<SuccessRequest> {\n    return this.http.get(\n      endpoints.transactions.verifyTransaction + \"/\" + transactionId\n    );\n  }\n}\n","import { API_URL } from \"../common/endpoints\";\nimport { EnvironmentType } from \"../types\";\nimport { Axios } from \"axios\";\nimport { Transaction } from \"./transactions\";\n\nexport class Momofy {\n  private readonly http: Axios;\n  public transaction: Transaction;\n\n  /**\n   * API secrete key\n   * @param apiKey\n   */\n  constructor(private readonly apiKey: string) {\n    this.http = new Axios({\n      baseURL: API_URL,\n      headers: {\n        Authorization: `Bearer ${this.apiKey}`,\n        \"Content-Type\": \"application/json\",\n      },\n    });\n\n    this.http.interceptors.response.use(\n      (response) => (response.data = JSON.parse(response.data))\n    );\n\n    this.transaction = new Transaction(this.http);\n  }\n}\n"],"names":["API_URL","EnvironmentType","endpoints","transactions","makeTransaction","verifyTransaction","listTransactions","Transaction","constructor","http","this","requestPayment","body","post","JSON","stringify","verify","transactionId","get","Momofy","apiKey","transaction","Axios","baseURL","headers","Authorization","interceptors","response","use","data","parse"],"mappings":"8BAAa,MAAAA,EAAU,yBACvB,ICmBYC,EDnBZC,EAAe,CACbC,aAAc,CACZC,gBAAiBJ,EAAU,wBAC3BK,kBAAmBL,EAAU,uBAC7BM,iBAAkBN,EAAU,wBEGnBO,EAEXC,WAAAA,CAAYC,QADJA,UAAI,EAEVC,KAAKD,KAAOA,CACd,CAMO,oBAAME,CACXC,GAEA,OAAOF,KAAKD,KAAKI,KACfX,EAAUC,aAAaC,gBACvBU,KAAKC,UAAUH,GAEnB,CAMO,YAAMI,CAAOC,GAClB,YAAYR,KAAKS,IACfhB,EAAUC,aAAaE,kBAAoB,IAAMY,EAErD,QC9BWE,EAQXX,WAAAA,CAA6BY,GAAAA,KAAAA,mBAPZX,UAAI,EAAAC,KACdW,iBAMsB,EAAAX,KAAMU,OAANA,EAC3BV,KAAKD,KAAO,IAAIa,EAAM,CACpBC,QAASvB,EACTwB,QAAS,CACPC,cAAe,UAAUf,KAAKU,SAC9B,eAAgB,sBAIpBV,KAAKD,KAAKiB,aAAaC,SAASC,IAC7BD,GAAcA,EAASE,KAAOf,KAAKgB,MAAMH,EAASE,OAGrDnB,KAAKW,YAAc,IAAId,EAAYG,KAAKD,KAC1C,GFPF,SAAYR,GACVA,EAAA,WAAA,aACAA,EAAA,KAAA,MACD,CAHD,CAAYA,IAAAA,EAGX,CAAA"}