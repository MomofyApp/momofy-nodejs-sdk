{"version":3,"file":"index.umd.js","sources":["../src/common/endpoints.ts","../src/types/index.ts","../src/modules/transactions/index.ts","../src/modules/index.ts"],"sourcesContent":["export const API_URL = \"https://api.momofy.com\";\nexport default {\n  transactions: {\n    makeTransaction: API_URL + \"/transactions/request\",\n    verifyTransaction: API_URL + \"/transactions/verify\",\n    listTransactions: API_URL + \"/transactions\",\n  },\n};\n","type ProviderTypes = \"MTN\" | \"VODAFONE\" | \"ATM\" | \"MPESA\";\n\ntype ChannelTypes = \"mobile_money\";\n\ntype Customer = {\n  name: String;\n  email: String;\n  phone_number: String;\n};\n\nexport type RequestPaymentType = {\n  provider: ProviderTypes;\n  transaction_note: String;\n  channel: ChannelTypes;\n  currency: String;\n  amount: string | number;\n  reference_code: String;\n  customer: Customer;\n};\n\nexport enum EnvironmentType {\n  PRODUCTION = \"production\",\n  TEST = \"test\",\n}\n\n\nexport interface SuccessRequest {\n  success: boolean;\n  message: string;\n  result: any;\n  meta: any;\n  status_code: number;\n}\n\nexport interface BadRequest {\n    status_code: number;\n    message: string;\n  }","import { Axios } from \"axios\";\nimport {\n  BadRequest,\n  RequestPaymentType,\n  SuccessRequest,\n} from \"../../types\";\nimport endpoints from \"../../common/endpoints\";\n\nexport class Transaction {\n  private http: Axios;\n  constructor(http: Axios) {\n    this.http = http;\n  }\n\n  /**\n   * requestPayment\n   * @param body\n   */\n  public async requestPayment(\n    body: RequestPaymentType\n  ): Promise<SuccessRequest> {\n    return this.http.post(\n      endpoints.transactions.makeTransaction,\n      JSON.stringify(body)\n    );\n  }\n\n  /**\n   * Transaction Reference ID\n   * @param transactionId\n   */\n  public async verify(transactionId: string): Promise<SuccessRequest> {\n    return this.http.get(\n      endpoints.transactions.verifyTransaction + \"/\" + transactionId\n    );\n  }\n}\n","import { API_URL } from \"../common/endpoints\";\nimport { EnvironmentType } from \"../types\";\nimport { Axios } from \"axios\";\nimport { Transaction } from \"./transactions\";\n\nexport class Momofy {\n  private readonly http: Axios;\n  public transaction: Transaction;\n\n  /**\n   * API secrete key\n   * @param apiKey\n   */\n  constructor(private readonly apiKey: string) {\n    this.http = new Axios({\n      baseURL: API_URL,\n      headers: {\n        Authorization: `Bearer ${this.apiKey}`,\n        \"Content-Type\": \"application/json\",\n      },\n    });\n\n    this.http.interceptors.response.use(\n      (response) => (response.data = JSON.parse(response.data))\n    );\n\n    this.transaction = new Transaction(this.http);\n  }\n}\n"],"names":["EnvironmentType","API_URL","endpoints","transactions","makeTransaction","verifyTransaction","listTransactions","Transaction","http","this","_proto","prototype","requestPayment","body","Promise","resolve","post","JSON","stringify","e","reject","verify","transactionId","get","exports","apiKey","transaction","Axios","baseURL","headers","Authorization","interceptors","response","use","data","parse"],"mappings":"gQAAa,ICoBDA,EDpBCC,EAAU,yBACvBC,EAAe,CACbC,aAAc,CACZC,gBAAiBH,EAAU,wBAC3BI,kBAAmBJ,EAAU,uBAC7BK,iBAAkBL,EAAU,kBEGnBM,eAAW,WAEtB,SAAAA,EAAYC,GADJA,KAAAA,UAEN,EAAAC,KAAKD,KAAOA,CACd,CAAC,IAAAE,EAAAH,EAAAI,UAuBA,OAvBAD,EAMYE,eAAcA,SACzBC,GAAwB,IAExB,OAAAC,QAAAC,QAAON,KAAKD,KAAKQ,KACfd,EAAUC,aAAaC,gBACvBa,KAAKC,UAAUL,IAEnB,CAAC,MAAAM,GAAAL,OAAAA,QAAAM,OAAAD,EAAAT,CAAAA,EAAAA,EAMYW,OAAMA,SAACC,GAAqB,IACvC,OAAAR,QAAAC,QAAON,KAAKD,KAAKe,IACfrB,EAAUC,aAAaE,kBAAoB,IAAMiB,GAErD,CAAC,MAAAH,GAAA,OAAAL,QAAAM,OAAAD,EAAA,CAAA,EAAAZ,CAAA,CA3BqB,GDYxBiB,EAAAxB,qBAAA,GAAYA,EAAAA,EAAeA,kBAAfA,EAAeA,gBAG1B,CAAA,IAFC,WAAA,aACAA,EAAA,KAAA,gBETA,SAA6ByB,GAAchB,KAAdgB,YAAA,EAAAhB,KAPZD,UACVkB,EAAAA,KAAAA,mBAMsBjB,KAAMgB,OAANA,EAC3BhB,KAAKD,KAAO,IAAImB,EAAAA,MAAM,CACpBC,QAAS3B,EACT4B,QAAS,CACPC,wBAAyBrB,KAAKgB,OAC9B,eAAgB,sBAIpBhB,KAAKD,KAAKuB,aAAaC,SAASC,IAC9B,SAACD,GAAQ,OAAMA,EAASE,KAAOjB,KAAKkB,MAAMH,EAASE,KAAK,GAG1DzB,KAAKiB,YAAc,IAAInB,EAAYE,KAAKD,KAC1C"}